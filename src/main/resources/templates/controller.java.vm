package $!{package.Controller};

import com.sgcc.uap.common.bean.exception.ControllerException;
import com.sgcc.uap.common.bean.suppert.*;
import com.sgcc.uap.rest.support.RequestCondition;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import javax.servlet.http.HttpServletRequest;
import $!{package.Entity}.$!{table.entityName};
import $!{package.Service}.I$!{table.entityName}Service;
#if($!{superControllerClassPackage})
import $!{superControllerClassPackage};
#end

/**
 * <p>
 * $!{table.comment} 前端控制器
 * </p>
 *
 * @author $!{author}
 * @since $!{date}
 */
@RestController
@RequestMapping("/$!{table.controllerName}")
public class $!{table.controllerName} extends $!{superControllerClass} {
	@Autowired
	private I$!{table.entityName}Service $!{table.entityPath}Service;


	/**
	 * 通过ID查询
	 * @param idRequest 请求参数
	 * @return BospWrappedResult
	 */
	@PostMapping("/getById")
	public BospWrappedResult getById(@RequestBody BospIdRequestObject idRequest) throws ControllerException{
        String id = idRequest.getId();
        return BospWrappedResult.successWrapedResult($!{table.entityPath}Service.getById(id));
	}
	
	/**
	 * 分页查询信息
	 * @param requestR 请求参数
	 * @return  BospWrappedResult
	 */
	@PostMapping("/listPage")
	public BospWrappedResult listPage(@RequestBody RequestCondition requestR) throws ControllerException{
        BospQueryResultObject resultObject =  $!{table.entityPath}Service.listPage(requestR);
        return BospWrappedResult.successWrapedResult(resultObject);
	}

	/**
 	 * 查询全部
 	 * @return  BospWrappedResult
 	 */
	@PostMapping("/list")
	public BospWrappedResult list() throws ControllerException{
        BospQueryResultObject resultObject =  $!{table.entityPath}Service.list();
        return BospWrappedResult.successWrapedResult(resultObject);
	}
	
	/**
     * 新增
     * @param formRequest 请求实体
     * @param request http请求
     * @return BospWrappedResult
     */
	@PostMapping("/save")
	public BospWrappedResult save(BospFormRequestObject formRequest , HttpServletRequest request) throws ControllerException{
        fromRequest = this.addUserId(formRequest ,request );
        ServiceReturnMap serviceReturnMap = $!{table.entityPath}Service.save(formRequest);
        return BospWrappedResult.returnWrapedResult((serviceReturnMap));
	}
	
	/**
	  * 修改
	  * @param formRequest 请求实体
	  * @param request http请求
	  * @return BospWrappedResult
	  */
	@PostMapping("/update")
	public BospWrappedResult update(BospFormRequestObject formRequest , HttpServletRequest request) throws ControllerException{
	   return BospWrappedResult.successWrapedResult(true);
	}

	/**
  	 * 删除多条记录
  	 * @param idRequestObject 请求实体
  	 * @param request http请求
  	 * @return BospWrappedResult
     */
 	@PostMapping("/deleteByIds")
	public BospWrappedResult deleteByIds(@RequestBody BospIdRequestObject idRequestObject , HttpServletRequest request)throws ControllerException {
        idRequestObject = this.addUserId(idRequestObject ,request );
        ServiceReturnMap serviceReturnMap = $!{table.entityPath}Service.deleteByIds(idRequestObject);
        return BospWrappedResult.returnWrapedResult(serviceReturnMap);
	}

}